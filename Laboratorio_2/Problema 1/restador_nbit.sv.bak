module restador_nbit #(
    parameter int N = 4  // Parámetro para definir el tamaño del restador
)(
    input  logic [N-1:0] A,    // Minuendo
    input  logic [N-1:0] B,    // Sustraendo
    input  logic Cin,          // Acarreo de entrada
    output logic [N-1:0] D,    // Diferencia
    output logic Cout          // Acarreo de salida
);
    logic [N:0] C;  // Vector de acarreo (incluye Cin y Cout)
    
    assign C[0] = Cin;  // Se inicializa el primer acarreo con Cin

    genvar i;
    generate
        for (i = 0; i < N; i++) begin : restadores
            restador_1bit U (
                .A(A[i]),
                .B(B[i]),
                .Cin(C[i]),
                .D(D[i]),
                .Cout(C[i+1])
            );
        end
    endgenerate

    assign Cout = C[N];  // Último acarreo como salida
endmodule
